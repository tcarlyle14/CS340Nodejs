[ <a href="/">Home</a> | <a href="/agents">Agents</a> | <a href="/properties">Properties</a> | <a href="/sellers">Sellers</a> | <a href="/transactions">Transactions</a> | <a href="/agent_property">Agent-Property</a> ]
<h1>Properties</h1>
<p>Use the following page to view, add, edit, or delete properties.</p>
<table id="properties-table">
    <thead>
        <tr>
            {{#each data.[0]}}
            <th>
                {{@key}}
            </th>
            {{/each}}
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        {{#each data}}
        <tr data-value="{{this.PropertyID}}">
            <td>{{this.PropertyID}}</td>
            <td>{{this.Address}}</td>
            <td>{{this.City}}</td>
            <td>{{this.County}}</td>
            <td>{{this.SaleStatus}}</td>
            <td>{{this.ListingPrice}}</td>
            <td>{{#if this.SaleDate}}{{this.SaleDate}}{{else}}NULL{{/if}}</td>
            <td>{{#if this.SellerID}}{{this.SellerID}}{{else}}NULL{{/if}}</td>
            <td><button onclick="deleteProperty({{this.PropertyID}})">Delete</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>

<h2>Add New Property</h2>
<p>To add a new property, please enter the information below and click `Submit`!</p>
<form id="add-property-form" method="POST" action="/add-property-form">
    <label for="input-address">Address: </label>
    <input type="text" name="input-address" id="input-address" required>
    
    <label for="input-city">City: </label>
    <input type="text" name="input-city" id="input-city" required>
    
    <label for="input-county">County: </label>
    <input type="text" name="input-county" id="input-county" required>
    
    <label for="input-salestatus">Sale Status: </label>
    <input type="text" name="input-salestatus" id="input-salestatus" required>
    
    <label for="input-listingprice">Listing Price: </label>
    <input type="number" step="0.01" name="input-listingprice" id="input-listingprice" required>
    
    <label for="input-saledate">Sale Date (Optional): </label>
    <input type="date" name="input-saledate" id="input-saledate">
    
    <label for="input-sellerid">Seller (Optional): </label>
    <select name="input-sellerid" id="input-sellerid">
        <option value="">NULL</option>
        {{#each sellers}}
        <option value="{{this.SellerID}}">{{this.Name}}</option>
        {{/each}}
    </select>
    
    <input type="submit" value="Submit">
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="/js/delete_property.js"></script>


<h2>Update Property Information</h2>
<p>Select a property from the drop-down menu and update its details.</p>
<form id="update-property-form-ajax">
    <label for="propertySelect">Property: </label>
    <select name="input-property" id="propertySelect" required>
        <option value="">Select a Property</option>
        {{#each data}}
        <option value="{{this.PropertyID}}">{{this.Address}}</option>
        {{/each}}
    </select>
    
    <label for="input-city-update">City: </label>
    <input type="text" name="input-city" id="input-city-update" required>
    
    <label for="input-county-update">County: </label>
    <input type="text" name="input-county" id="input-county-update" required>
    
    <label for="input-salestatus-update">Sale Status: </label>
    <input type="text" name="input-salestatus" id="input-salestatus-update" required>
    
    <label for="input-listingprice-update">Listing Price: </label>
    <input type="number" step="0.01" name="input-listingprice" id="input-listingprice-update" required>
    
    <label for="input-saledate-update">Sale Date (Optional): </label>
    <input type="date" name="input-saledate" id="input-saledate-update">
    
    <label for="input-sellerid-update">Seller (Optional): </label>
    <select name="input-sellerid" id="input-sellerid-update">
        <option value="">NULL</option>
        {{#each sellers}}
        <option value="{{this.SellerID}}">{{this.Name}}</option>
        {{/each}}
    </select>
    
    <input type="submit" value="Update">
</form>
<script src="/js/update_property.js"></script>